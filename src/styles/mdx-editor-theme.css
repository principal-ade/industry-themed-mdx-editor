/**
 * Industry-themed MDX Editor styles
 * These CSS custom properties integrate MDXEditor with the industry-theme system
 * Based on Radix UI theming system used by MDXEditor
 *
 * Note: All Radix color variables are set directly by the component
 * This file provides additional content styling and customizations
 */

/* Override MDXEditor's default CSS variables with our theme */
.themed-mdx-editor [class*='editorRoot'] {
  --accentBase: var(--accentBase) !important;
  --accentBgSubtle: var(--accentBgSubtle) !important;
  --accentBg: var(--accentBg) !important;
  --accentBgHover: var(--accentBgHover) !important;
  --accentBgActive: var(--accentBgActive) !important;
  --accentLine: var(--accentLine) !important;
  --accentBorder: var(--accentBorder) !important;
  --accentBorderHover: var(--accentBorderHover) !important;
  --accentSolid: var(--accentSolid) !important;
  --accentSolidHover: var(--accentSolidHover) !important;
  --accentText: var(--accentText) !important;
  --accentTextContrast: var(--accentTextContrast) !important;

  --basePageBg: var(--mdx-editor-bg) !important;
  --baseBase: var(--baseBase) !important;
  --baseBgSubtle: var(--baseBgSubtle) !important;
  --baseBg: var(--baseBg) !important;
  --baseBgHover: var(--baseBgHover) !important;
  --baseBgActive: var(--baseBgActive) !important;
  --baseLine: var(--baseLine) !important;
  --baseBorder: var(--baseBorder) !important;
  --baseBorderHover: var(--baseBorderHover) !important;
  --baseSolid: var(--baseSolid) !important;
  --baseSolidHover: var(--baseSolidHover) !important;
  --baseText: var(--baseText) !important;
  --baseTextContrast: var(--baseTextContrast) !important;
}

/* MDXEditor content styling */
.themed-mdx-editor .mdx-editor-content {
  font-family: var(--mdx-editor-font-family);
  font-size: var(--mdx-editor-font-size);
  color: var(--mdx-editor-fg);
  line-height: 1.6;

  /* Document padding - similar to Google Docs margins */
  padding-top: var(--mdx-editor-padding-top, 0);
  padding-right: var(--mdx-editor-padding-right, 0);
  padding-bottom: var(--mdx-editor-padding-bottom, 0);
  padding-left: var(--mdx-editor-padding-left, 0);

  /* Ensure content is properly contained */
  box-sizing: border-box;
}

/* Headings */
.themed-mdx-editor .mdx-editor-content h1,
.themed-mdx-editor .mdx-editor-content h2,
.themed-mdx-editor .mdx-editor-content h3,
.themed-mdx-editor .mdx-editor-content h4,
.themed-mdx-editor .mdx-editor-content h5,
.themed-mdx-editor .mdx-editor-content h6 {
  color: var(--mdx-editor-heading-color);
}

/* Links */
.themed-mdx-editor .mdx-editor-content a {
  color: var(--mdx-editor-link-color);
}

/* Inline code */
.themed-mdx-editor .mdx-editor-content code {
  background-color: var(--mdx-editor-code-bg);
  font-family: var(--mdx-editor-font-family);
  padding: 2px 6px;
  border-radius: 3px;
}

/* Code blocks - target the CodeMirror editor wrapper */
.themed-mdx-editor .cm-editor {
  background-color: var(--mdx-editor-code-bg) !important;
}

.themed-mdx-editor .cm-editor .cm-scroller {
  font-family: var(--mdx-editor-font-family);
  background-color: var(--mdx-editor-code-bg);
}

.themed-mdx-editor .cm-editor .cm-gutters {
  background-color: var(--mdx-editor-code-bg);
  border-right: 1px solid var(--mdx-editor-border);
  color: var(--mdx-editor-fg);
}

.themed-mdx-editor .cm-editor .cm-content {
  background-color: var(--mdx-editor-code-bg);
  color: var(--mdx-editor-fg);
}

.themed-mdx-editor .cm-editor .cm-line {
  background-color: var(--mdx-editor-code-bg);
}

.themed-mdx-editor .cm-editor .cm-activeLineGutter {
  background-color: var(--baseBgHover);
}

.themed-mdx-editor .cm-editor .cm-activeLine {
  background-color: var(--baseBgHover);
}

/* Selection */
.themed-mdx-editor .mdx-editor-content ::selection {
  background-color: var(--mdx-editor-selection-bg);
}

/* Toolbar container */
.themed-mdx-editor [class*='toolbarRoot'] {
  background-color: var(--mdx-editor-toolbar-bg);
  border-bottom: 1px solid var(--mdx-editor-border);
}

/* Toolbar buttons */
.themed-mdx-editor [class*='toolbarRoot'] button:not([class*='selectTrigger']) {
  color: var(--mdx-editor-fg);
}

.themed-mdx-editor [class*='toolbarRoot'] button:not([class*='selectTrigger']):hover {
  background-color: var(--mdx-editor-selection-bg);
}

/* Fix toolbar SVG icon colors - override MDXEditor's baseTextContrast usage */
.themed-mdx-editor [class*='toolbarRoot'] svg {
  color: var(--baseText) !important;
}

/* Toolbar select dropdowns (BlockTypeSelect, etc.) */
.themed-mdx-editor button[role='combobox'][class*='selectTrigger'],
.themed-mdx-editor [data-toolbar-item='true'][class*='selectTrigger'],
button[role='combobox'][class*='selectTrigger'][data-toolbar-item='true'] {
  background-color: var(--baseBg) !important;
  color: var(--baseText) !important;
  border: 1px solid var(--baseBorder) !important;
  padding: 4px 8px !important;
  border-radius: 4px !important;
}

.themed-mdx-editor button[role='combobox'][class*='selectTrigger']:hover,
.themed-mdx-editor [data-toolbar-item='true'][class*='selectTrigger']:hover,
button[role='combobox'][class*='selectTrigger'][data-toolbar-item='true']:hover {
  background-color: var(--baseBgHover) !important;
  border-color: var(--baseBorderHover) !important;
}

.themed-mdx-editor button[class*='selectTrigger'] span,
button[class*='selectTrigger'][data-toolbar-item='true'] span {
  color: var(--baseText) !important;
}

.themed-mdx-editor button[class*='selectTrigger'] [class*='selectDropdownArrow'] svg,
button[class*='selectTrigger'][data-toolbar-item='true'] [class*='selectDropdownArrow'] svg {
  color: var(--baseText) !important;
}

/* Select dropdown content - Note: These are often portaled outside the editor */
[class*='selectContent'] {
  background-color: var(--baseBg) !important;
  border: 1px solid var(--baseBorder) !important;
  color: var(--baseText) !important;
  z-index: 9999 !important;
}

[class*='selectItem'] {
  color: var(--baseText) !important;
}

[class*='selectItem']:hover {
  background-color: var(--baseBgHover) !important;
}

[class*='selectItem'][data-state='checked'] {
  background-color: var(--accentBg) !important;
  color: var(--accentText) !important;
}

/* Table borders - use accent color for visibility */
.themed-mdx-editor [class*='tableEditor'] > tbody > tr > td:not([class*='toolCell']),
.themed-mdx-editor [class*='tableEditor'] > tbody > tr > th:not([class*='toolCell']):not([data-tool-cell='true']) {
  border: 1px solid var(--mdx-editor-table-border) !important;
  padding: var(--spacing-1) var(--spacing-2);
  white-space: normal;
}

.themed-mdx-editor [class*='tableEditor'] > thead > tr > th {
  border: 1px solid var(--mdx-editor-table-border) !important;
}

/* Source mode editor */
.themed-mdx-editor [class*='sourceEditor'] {
  font-family: var(--mdx-editor-font-family);
  font-size: var(--mdx-editor-font-size);
  background-color: var(--mdx-editor-bg);
  color: var(--mdx-editor-fg);
}

/* Scrollbars */
.themed-mdx-editor ::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.themed-mdx-editor ::-webkit-scrollbar-track {
  background: var(--mdx-editor-bg);
}

.themed-mdx-editor ::-webkit-scrollbar-thumb {
  background: var(--mdx-editor-border);
  border-radius: 6px;
}

.themed-mdx-editor ::-webkit-scrollbar-thumb:hover {
  background: var(--mdx-editor-fg);
  opacity: 0.5;
}

/*
 * Tailwind CSS Compatibility Styles
 * Tailwind's Preflight resets all default HTML styles, but MDXEditor expects them.
 * These styles restore necessary defaults for proper content rendering.
 */

/* Restore default heading styles */
.themed-mdx-editor h1 {
  font-size: 2em;
  font-weight: 700;
  margin-top: 0.67em;
  margin-bottom: 0.67em;
  line-height: 1.2;
}

.themed-mdx-editor h2 {
  font-size: 1.5em;
  font-weight: 600;
  margin-top: 0.83em;
  margin-bottom: 0.83em;
  line-height: 1.3;
}

.themed-mdx-editor h3 {
  font-size: 1.17em;
  font-weight: 600;
  margin-top: 1em;
  margin-bottom: 1em;
  line-height: 1.4;
}

.themed-mdx-editor h4 {
  font-size: 1em;
  font-weight: 600;
  margin-top: 1.33em;
  margin-bottom: 1.33em;
  line-height: 1.5;
}

.themed-mdx-editor h5 {
  font-size: 0.83em;
  font-weight: 600;
  margin-top: 1.67em;
  margin-bottom: 1.67em;
  line-height: 1.5;
}

.themed-mdx-editor h6 {
  font-size: 0.67em;
  font-weight: 600;
  margin-top: 2.33em;
  margin-bottom: 2.33em;
  line-height: 1.5;
}

/* Restore default paragraph spacing */
.themed-mdx-editor p {
  margin-top: 1em;
  margin-bottom: 1em;
}

/* Restore default list styles */
.themed-mdx-editor ul {
  list-style-type: disc;
  margin-top: 1em;
  margin-bottom: 1em;
  padding-left: 2.5em;
}

.themed-mdx-editor ul ul {
  list-style-type: circle;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.themed-mdx-editor ul ul ul {
  list-style-type: square;
}

.themed-mdx-editor ol {
  list-style-type: decimal;
  margin-top: 1em;
  margin-bottom: 1em;
  padding-left: 2.5em;
}

.themed-mdx-editor ol ol {
  list-style-type: lower-alpha;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.themed-mdx-editor ol ol ol {
  list-style-type: lower-roman;
}

.themed-mdx-editor li {
  margin-top: 0.25em;
  margin-bottom: 0.25em;
}

/* Restore default blockquote styles */
.themed-mdx-editor blockquote {
  margin-top: 1em;
  margin-bottom: 1em;
  margin-left: 2.5em;
  margin-right: 2.5em;
  padding-left: 1em;
  border-left: 4px solid currentColor;
  opacity: 0.8;
}

/* Restore default code styles */
.themed-mdx-editor code {
  font-family: monospace;
  font-size: 0.9em;
}

.themed-mdx-editor pre {
  margin-top: 1em;
  margin-bottom: 1em;
  padding: 1em;
  overflow: auto;
}

.themed-mdx-editor pre code {
  font-size: inherit;
}

/* Restore default table styles */
.themed-mdx-editor table {
  border-collapse: collapse;
  margin-top: 1em;
  margin-bottom: 1em;
  width: 100%;
}

.themed-mdx-editor th,
.themed-mdx-editor td {
  padding: 0.5em;
  text-align: left;
}

.themed-mdx-editor th {
  font-weight: 600;
}

/* Restore default emphasis styles */
.themed-mdx-editor strong,
.themed-mdx-editor b {
  font-weight: 700;
}

.themed-mdx-editor em,
.themed-mdx-editor i {
  font-style: italic;
}

/* Restore default link styles */
.themed-mdx-editor a {
  text-decoration: underline;
  cursor: pointer;
}

/* Restore default hr styles */
.themed-mdx-editor hr {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
  border: 0;
  border-top: 1px solid currentColor;
  opacity: 0.3;
}
